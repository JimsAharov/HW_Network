(()=>{let e,t,o={},n={};function r(){fetch("/api/name").then((e=>(console.log(e),e.json()))).then((e=>{console.log(e),t.textContent=JSON.stringify(e)}))}function s(){let t=new FormData(e);return console.log(t),console.log(e),t.forEach((function(e,t){o[t]=e})),o}document.addEventListener("DOMContentLoaded",(()=>{e=document.forms.profile,t=document.querySelector(".result");const o=document.querySelector(".button"),a=document.querySelector("#name"),c=document.querySelector("#email"),l=document.querySelector("#password"),i=document.querySelector(".message"),d=/@/;r(),a.addEventListener("input",(e=>{n.name=e.target.value,console.log(n),e.target.classList.remove("error")})),c.addEventListener("input",(e=>{n.eMail=e.target.value,console.log(n.eMail.match(d)),e.target.classList.remove("error")})),l.addEventListener("input",(e=>{n.password=e.target.value,e.target.classList.remove("error")})),e.addEventListener("submit",(e=>{e.preventDefault(),function(){const e=document.querySelector("#name"),t=document.querySelector("#email"),o=document.querySelector("#password");let r=!0;return n.name||(e.classList.add("error"),r=!1),/[a-zA-Z0-9]+@[a-zA-Z]+\.[a-zA-Z]/.test(n.eMail)||(t.classList.add("error"),r=!1),n.password||(o.classList.add("error"),r=!1),r}()?(async function(e){const t=await fetch("/api/name",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});await t.json}(s()),i.classList.remove("message2")):i.classList.add("message2"),r(s())})),o.addEventListener("click",(function(){o.classList.toggle("button2")}))}))})();